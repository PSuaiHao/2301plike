# 动态路由

1，首先导入了 getuserList 和 getMenuList 方法，这两个方法用于调用 API 接口获取数据。

然后定义了一个包含 state、getters、mutations 和 actions 的 Vuex 模块。

2.state：包含了三个属性 它们分别用于存储第一条接口返回的数据、第二条接口返回的数据中的，以及经过条件筛选后的总数据。

3.actions：定义了一个 的异步 ，通过 调用那两个接口 ，分别获取第一条接口和第二条接口的数据，调用mutations方法。
4.mutations：定义了三个 方法 分别获取第一条数据，第二条数据，以及通过筛选获取的第三条数据保存到 state中。


接下来是 Router 部分的代码。

5引入store。。

接着定义了一个空数组 children，用于存储动态添加的子路由。

定义了一个 routes 数组，其中包含了两个路由对象。第一个路由对象是根路径的路由，指向 HomeView 组件。第二个路由对象是 “/about” 路径的路由，指向 AboutView 组件，在命名一个首页的子路由，

接下来创建了 VueRouter 实例，并将 routes 数组作为配置项传入。

在 router.beforeEach() 中定义了一个全局前置守卫，在导航之前会执行该守卫函数。在这个守卫函数中，通过访问 Vuex 中的 state 数据，动态生成子路由。遍历数组，根据每个元素的 code 属性生成对应的路由对象，并使用 router.addRoute() 方法将生成的路由对象添加到 “about” 路由的子路由中，并将生成的路由对象添加到 children 数组中，用来渲染页面

最后导出了 router 实例。

这段代码实现了通过异步获取接口数据，根据接口数据动态生成路由的功能。